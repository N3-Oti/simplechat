# 用語集

**Amazon API Gateway**
*   **定義:** API の作成、公開、保守、モニタリング、保護を大規模に行うためのフルマネージドサービスです。
*   **解説:** このプロジェクトでは、フロントエンド ([axios](#axios) を使用) からのリクエストを受け付け、認証 ([Amazon Cognito](#amazon-cognito) オーソライザー、リクエストヘッダーの `Authorization` に [ID Token](#id-token-cognito) が必要) を行い、バックエンドの [AWS Lambda](#aws-lambda) 関数 (`ChatFunction`) にリクエストをルーティングする役割を担っています。REST API として定義され、Lambda Proxy Integration を使用しています。認証されたユーザーの情報は、Lambda 関数の `event` データ内の `requestContext.authorizer.claims` に含まれます。
*   **関連:** REST API, AWS Lambda, Amazon Cognito, Lambda Proxy Integration, axios, Authorization Header, ID Token

**Amazon Bedrock**
*   **定義:** 主要な AI 企業が提供する基盤モデル (Foundation Models, FM) や Amazon 独自のモデルを、API を通じて利用可能にするフルマネージドサービスです。
*   **解説:** このプロジェクトの中核となるチャット機能を提供します。バックエンドの [AWS Lambda](#aws-lambda) 関数 (`ChatFunction`) が、[Boto3](#boto3) の [Bedrock Runtime Client](#bedrock-runtime-client-boto3) を使用して `invoke_model` API を呼び出し、指定されたモデル (環境変数 `MODEL_ID` で指定) と対話します。API には会話履歴と[推論パラメータ](#inference-parameters-bedrock)を含むペイロードが送信されます。
*   **関連:** LLM (大規模言語モデル), 基盤モデル (FM), AWS Lambda, Boto3, Bedrock Runtime Client, invoke_model

**Amazon CloudFront**
*   **定義:** 高いパフォーマンス、セキュリティ、デベロッパーの利便性を備えたコンテンツ配信ネットワーク (CDN) サービスです。
*   **解説:** フロントエンドの静的ファイル ([Amazon S3](#amazon-s3-simple-storage-service) に格納) をユーザーに近いエッジロケーションから配信することで、ウェブサイトの表示速度を向上させます。また、HTTPS 通信の強制やカスタムエラーページの表示なども行います。
*   **関連:** CDN, Amazon S3, CloudFront Distribution, CloudFront Origin

**Amazon Cognito**
*   **定義:** ウェブアプリケーションやモバイルアプリケーションに、迅速かつ容易にユーザーのサインアップ、サインイン、アクセスコントロール機能を追加できるサービスです。
*   **解説:** このプロジェクトでは、ユーザー認証 (サインアップ、サインイン、パスワード管理など) を担当します。[UserPool](#userpool-cognito) でユーザー情報を管理し、[UserPool Client](#userpool-client-cognito) を介してフロントエンドアプリケーション ([AWS Amplify](#aws-amplify) ライブラリを使用) と連携します。フロントエンドでは `@aws-amplify/ui-react` の [Authenticator](#authenticator-component-amplify-ui) コンポーネントが認証 UI を提供します。認証後、フロントエンドは `Auth.currentSession()` でユーザーセッションを取得し、そこから [ID Token](#id-token-cognito) (JWT) を取得してバックエンド API ([API Gateway](#amazon-api-gateway)) 呼び出し時の `Authorization` ヘッダーに付与します。API Gateway のオーソライザーはこのトークンを検証します。
*   **関連:** 認証, UserPool, UserPool Client, OAuth 2.0, OpenID Connect, API Gateway Authorizer, AWS Amplify, Amplify Auth, Authenticator Component, ID Token, JWT

**Amazon S3 (Simple Storage Service)**
*   **定義:** 高い耐久性、可用性、スケーラビリティを提供するオブジェクトストレージサービスです。
*   **解説:** このプロジェクトでは、ビルドされたフロントエンドアプリケーションの静的ファイル (HTML, CSS, JavaScript, 画像など) を格納する場所として使用されます ([`WebsiteBucket`](#s3-bucket-deployment-cdk))。これらのファイルは [Amazon CloudFront](#amazon-cloudfront) を通じて配信されます。また、デプロイ時に生成されるフロントエンド設定ファイル (`config.js`) もこのバケットに保存されます。
*   **関連:** オブジェクトストレージ, Amazon CloudFront, S3 Bucket Deployment, config.js (Frontend)

**API Gateway Event (Lambda Proxy Integration)**
*   **定義:** [Amazon API Gateway](#amazon-api-gateway) が Lambda Proxy Integration を使用している場合に、バックエンドの [AWS Lambda](#aws-lambda) 関数に渡されるイベントデータの構造です。HTTP リクエストに関する情報 (メソッド、パス、ヘッダー、クエリパラメータ、リクエストボディ) や、認証情報 ([Cognito](#amazon-cognito) オーソライザーからのクレームなど) が含まれます。
*   **解説:** `simplechat/lambda/index.py` の `lambda_handler` 関数が受け取る `event` 引数がこれに該当します。関数内では `event["body"]` からユーザーメッセージを、`event["requestContext"]["authorizer"]["claims"]` からユーザー情報を取得しています。
*   **関連:** Amazon API Gateway, AWS Lambda, JSON

**ARN (Amazon Resource Name)**
*   **定義:** AWS リソースを一意に識別するためのグローバルな識別子です。`arn:partition:service:region:account-id:resource-id` のような形式を持ちます。
*   **解説:** `simplechat/lambda/index.py` の `extract_region_from_arn` 関数は、Lambda 関数の実行コンテキストから取得した ARN を解析して、関数が実行されているリージョンを特定しています。

**Authenticator Component (Amplify UI)**
*   **定義:** `@aws-amplify/ui-react` ライブラリが提供する [React](#react) [コンポーネント](#component-react)です。サインイン、サインアップ、パスワード忘れなどの認証フローに必要な UI を簡単に実装できます。
*   **解説:** `simplechat/frontend/src/App.js` の `App` コンポーネントで使用されています。`<Authenticator>` でラップされた子要素は、ユーザーが認証された後にのみレンダリングされます。子要素には `signOut` 関数と `user` オブジェクトが [props](#props-react) として渡されます。
*   **関連:** AWS Amplify, Amplify UI React, React, Component, Authentication

**Authorization Header**
*   **定義:** HTTP ヘッダーの一つで、リクエストを行うクライアントが自身を認証するための資格情報を含みます。様々な認証スキーム (Basic, Bearer など) があります。
*   **解説:** このプロジェクトでは、フロントエンド ([axios](#axios)) がバックエンド API ([API Gateway](#amazon-api-gateway)) を呼び出す際に、`Authorization` ヘッダーに `Bearer` スキームで [Cognito](#amazon-cognito) から取得した [ID Token](#id-token-cognito) (JWT) を設定しています。API Gateway の Cognito オーソライザーがこのヘッダーを検証します。
*   **関連:** HTTP Headers, Authentication, Bearer Token, ID Token, JWT, Amazon API Gateway, axios

**AWS Amplify**
*   **定義:** モバイルおよびフロントエンドウェブデベロッパーが、AWS を活用したスケーラブルなフルスタックアプリケーションを構築するためのライブラリ、UI コンポーネント、CLI ツール、およびコンソールを提供するフレームワークです。
*   **解説:** このプロジェクトのフロントエンド (`simplechat/frontend/src/App.js`) では、Amplify ライブラリ (`aws-amplify`) と Amplify UI React (`@aws-amplify/ui-react`) が使用されています。`Amplify.configure()` で [Cognito](#amazon-cognito) 設定を初期化し、`Auth` モジュール ([Amplify Auth](#amplify-auth)) でユーザーセッションや [ID Token](#id-token-cognito) を取得し、[Authenticator](#authenticator-component-amplify-ui) コンポーネントで認証 UI を提供しています。依存関係は `simplechat/frontend/package.json` で管理されています。
*   **関連:** Frontend Development, AWS Cognito, Amplify Auth, Amplify UI React, Authenticator Component, package.json

**Amplify Auth**
*   **定義:** [AWS Amplify](#aws-amplify) ライブラリの認証カテゴリ (`Auth`) です。[Amazon Cognito](#amazon-cognito) と連携し、ユーザーのサインアップ、サインイン、サインアウト、セッション管理などの機能を提供します。
*   **解説:** `simplechat/frontend/src/App.js` で `import { Auth } from 'aws-amplify'` され、`Auth.currentSession()` を呼び出して現在のユーザーセッションと [ID Token](#id-token-cognito) を取得するために使用されています。
*   **関連:** AWS Amplify, Amazon Cognito, Authentication, Session Management, ID Token

**Amplify UI React (@aws-amplify/ui-react)**
*   **定義:** [AWS Amplify](#aws-amplify) が提供する、[React](#react) アプリケーション向けの UI コンポーネントライブラリです。認証 ([Authenticator](#authenticator-component-amplify-ui) など) や他の AWS サービス連携のためのコンポーネントが含まれます。
*   **解説:** `simplechat/frontend/src/App.js` で `import { Authenticator } from '@aws-amplify/ui-react'` され、認証 UI を実装するために使用されています。関連する CSS (`@aws-amplify/ui-react/styles.css`) もインポートされています。依存関係は `simplechat/frontend/package.json` で管理されています。
*   **関連:** AWS Amplify, React, UI Component Library, Authenticator Component, package.json

**axios**
*   **定義:** ブラウザと Node.js のための Promise ベースの HTTP クライアントライブラリです。非同期の HTTP リクエストを簡単に行うことができます。
*   **解説:** `simplechat/frontend/src/App.js` で `import axios from 'axios'` され、`handleSubmit` 関数内でバックエンドの [API Gateway](#amazon-api-gateway) エンドポイント (`config.apiEndpoint`) に POST リクエストを送信するために使用されています。リクエストヘッダーに `Authorization` ([ID Token](#id-token-cognito)) を含めています。依存関係は `simplechat/frontend/package.json` で管理されています。
*   **関連:** HTTP Client, Promise, API Call, Frontend Development, package.json

**AWS CDK (Cloud Development Kit)**
*   **定義:** AWS のインフラストラクチャを、使い慣れたプログラミング言語 (TypeScript, Python, Java, C#, Go) を使ってコードで定義し、プロビジョニングするためのオープンソースのフレームワークです。
*   **解説:** このプロジェクトでは [TypeScript](#typescript) を使用して、[AWS Lambda](#aws-lambda) 関数、[Amazon API Gateway](#amazon-api-gateway)、[Amazon Cognito](#amazon-cognito) ユーザープール、[Amazon S3](#amazon-s3-simple-storage-service) バケット、[Amazon CloudFront](#amazon-cloudfront) ディストリビューションなどの AWS リソースを `simplechat/lib/bedrock-chatbot-stack.ts` 内で定義・管理しています。`cdk deploy` コマンドで [CloudFormation](#cloudformation) テンプレートが生成され、リソースがデプロイされます。CDK Toolkit (CLI) は `simplechat/package.json` の `devDependencies` で管理され、`scripts` でコマンドエイリアスが定義されています。
*   **関連:** CloudFormation, IaC (Infrastructure as Code), Construct, cdk.json, package.json

**AWS Lambda**
*   **定義:** サーバーのプロビジョニングや管理なしにコードを実行できるコンピューティングサービスです (サーバーレス)。
*   **解説:** このプロジェクトでは2つの Lambda 関数が使用されています。
    *   `ChatFunction` (`simplechat/lambda/index.py`): Python で書かれ、[API Gateway](#amazon-api-gateway) からのリクエストを受け取ります。リクエストボディからユーザーメッセージと[会話履歴](#conversation-history)を抽出し、[Boto3](#boto3) を使って [Amazon Bedrock](#amazon-bedrock) の `invoke_model` API を呼び出し、チャット応答を生成します。応答と更新された会話履歴を JSON 形式で返します。
    *   `ConfigGeneratorFunction`: Node.js で書かれ、CDK デプロイ時に [Custom Resource](#custom-resource-cdk) として実行され、フロントエンド用の設定ファイル (`config.js`) を生成して [S3](#amazon-s3-simple-storage-service) にアップロードし、[CloudFront](#amazon-cloudfront) キャッシュを無効化します。
*   **関連:** サーバーレス, FaaS (Function as a Service), API Gateway, Bedrock, Custom Resource, Boto3

**Bedrock Runtime Client (Boto3)**
*   **定義:** [Boto3](#boto3) ライブラリの一部で、[Amazon Bedrock](#amazon-bedrock) のランタイムサービス (モデルの呼び出しなど) と対話するためのクライアントオブジェクトです。
*   **解説:** `simplechat/lambda/index.py` では、`boto3.client("bedrock-runtime", region_name=region)` によって初期化され、`invoke_model` メソッドを呼び出すために使用されます。Lambda のグローバルスコープで初期化され、実行コンテナの再利用時に効率化を図っています。
*   **関連:** Amazon Bedrock, Boto3, invoke_model

**Boto3**
*   **定義:** Python 用の AWS SDK (Software Development Kit) です。Python スクリプトから AWS の各種サービス (S3, EC2, DynamoDB, Bedrock など) を操作するための API を提供します。
*   **解説:** `simplechat/lambda/index.py` で `import boto3` され、[Amazon Bedrock](#amazon-bedrock) サービスと対話するためのクライアント (`bedrock-runtime`) を作成・使用するために利用されています。`simplechat/lambda/requirements.txt` でバージョンが指定されています。
*   **関連:** AWS SDK, Python, AWS Lambda, Amazon Bedrock, requirements.txt

**browserslist**
*   **定義:** プロジェクトがサポートするブラウザの範囲を、共有可能な設定で指定するためのツールおよび設定規約です。Autoprefixer, Babel, ESLint などの多くのフロントエンドツールがこの設定を参照します。
*   **解説:** `simplechat/frontend/package.json` 内の `browserslist` キーで設定されています。`production` 環境と `development` 環境で異なるターゲットブラウザを指定しており、これによりビルドツール (例: [react-scripts](#react-scripts) 内の Babel や Autoprefixer) が生成する JavaScript や CSS を最適化し、必要なポリフィルやベンダープレフィックスを適切に付与します。
*   **関連:** Frontend Development, Browser Compatibility, Babel, Autoprefixer, package.json

**CDK App (cdk.App)**
*   **定義:** CDK アプリケーションのルートとなる[コンストラクト](#construct-cdk)です。一つ以上の[スタック](#cdk-stack-cdkstack)を含みます。
*   **解説:** `simplechat/bin/bedrock-chatbot.ts` で `new cdk.App()` としてインスタンス化され、`BedrockChatbotStack` を含んでいます。

**cdk.json**
*   **定義:** [AWS CDK](#aws-cdk-cloud-development-kit) アプリケーションの設定ファイルです。CDK Toolkit がアプリケーションをどのように実行するか (`app` キー)、どのファイルを監視するか (`watch` キー)、および CDK の機能フラグ (`context` キー) などを定義します。
*   **解説:** `simplechat/cdk.json` では、`app` キーで `ts-node` を使用して TypeScript のエントリーポイント (`bin/bedrock-chatbot.ts`) を実行するように指定されています。また、`context` キーには多数の機能フラグが設定されており、CDK の挙動を制御しています。
*   **関連:** AWS CDK, Configuration File, ts-node, Feature Flag

**CDK Stack (cdk.Stack)**
*   **定義:** CDK におけるデプロイの単位であり、関連する AWS リソースの集合です。[CloudFormation](#cloudformation) スタックに相当します。
*   **解説:** `BedrockChatbotStack` クラス (`simplechat/lib/bedrock-chatbot-stack.ts`) がこれに該当し、チャットボットに必要なリソース群を定義しています。`new BedrockChatbotStack(...)` でインスタンス化されます。

**CDK Stack Props (cdk.StackProps)**
*   **定義:** CDK [スタック](#cdk-stack-cdkstack)を初期化する際に渡すことができるプロパティ (設定値) のインターフェースです。
*   **解説:** `BedrockChatbotStack` のコンストラクタの第3引数で渡されるオブジェクトがこれに該当します。`env` (デプロイ先の AWS アカウントとリージョン) や、このプロジェクト独自の `modelId` (例: `'us.amazon.nova-lite-v1:0'`) などが含まれます (ただし、`env` に関しては型エラーが検出されています)。

**CloudFormation**
*   **定義:** AWS リソースのモデル化とセットアップを支援するサービスです。テンプレートファイルを使用して、関連する AWS リソースのコレクション (スタック) を作成および管理します。
*   **解説:** [AWS CDK](#aws-cdk-cloud-development-kit) は、開発者が記述したコード (例: TypeScript) を最終的に CloudFormation テンプレートに変換 (合成、synth) し、そのテンプレートを使って AWS リソースをプロビジョニングします。`cdk deploy` コマンドの背後では CloudFormation が動作しています。
*   **関連:** AWS CDK, IaC, スタック

**CloudFront Distribution**
*   **定義:** [Amazon CloudFront](#amazon-cloudfront) の中核となる設定で、コンテンツをどのように配信するか (どのオリジンから、どのキャッシュ設定で、どのドメイン名でなど) を定義します。
*   **解説:** `simplechat/lib/bedrock-chatbot-stack.ts` で `new cloudfront.Distribution(...)` として作成され、[S3](#amazon-s3-simple-storage-service) バケットをオリジンとして設定し、HTTPS リダイレクトやエラーページの処理などを定義しています。

**CloudFront Origin**
*   **定義:** [CloudFront](#amazon-cloudfront) がコンテンツを取得する元の場所です。S3 バケット、EC2 インスタンス、ELB、任意の HTTP サーバーなどが指定できます。
*   **解説:** このプロジェクトでは、`origins.S3Origin(websiteBucket)` として、フロントエンドファイルが格納されている [S3](#amazon-s3-simple-storage-service) バケットがオリジンとして指定されています。

**CloudWatch Logs**
*   **定義:** AWS リソース、アプリケーション、およびカスタムログファイルのログをモニタリング、保存、アクセスするためのサービスです。
*   **解説:** [AWS Lambda](#aws-lambda) 関数 (`ChatFunction`, `ConfigGeneratorFunction`) や [API Gateway](#amazon-api-gateway) などのログは自動的に CloudWatch Logs に送信されます。`simplechat/lambda/index.py` 内の `print()` 文の出力もここに記録され、デバッグや運用監視に不可欠です。
*   **関連:** AWS Lambda, Logging, Debugging

**Component (React)**
*   **定義:** [React](#react) アプリケーションの UI を構成する独立した再利用可能な部品です。JavaScript の関数またはクラスとして定義され、[Props](#props-react) を受け取り、画面に表示する要素 ([JSX](#jsx-javascript-xml)) を返します。
*   **解説:** `simplechat/frontend/src/App.js` では、`ChatInterface` と `App` という2つの関数コンポーネントが定義されています。`App` コンポーネントは `ChatInterface` コンポーネントをレンダリングします。
*   **関連:** React, JSX, Props, State

**config.js (Frontend)**
*   **定義:** このプロジェクトにおいて、フロントエンドアプリケーション ([React](#react)) が実行時に必要とする設定情報 (API エンドポイント URL、Cognito ユーザープール ID、クライアント ID、リージョンなど) を格納するために動的に生成される JavaScript ファイルです。
*   **解説:** このファイルは、[AWS CDK](#aws-cdk-cloud-development-kit) のデプロイプロセス中に `ConfigGeneratorFunction` [Lambda](#aws-lambda) によって生成され、[S3](#amazon-s3-simple-storage-service) バケット (`WebsiteBucket`) のルートに配置されます。`index.html` 内で `<script src="/config.js"></script>` のように読み込まれ、グローバルな `window.REACT_APP_CONFIG` オブジェクトに設定値を格納します。`simplechat/frontend/src/App.js` の `loadConfig` 関数がこのオブジェクトを参照します。
*   **関連:** Frontend Development, Configuration Management, AWS CDK, Custom Resource, AWS Lambda, Amazon S3

**Construct (CDK)**
*   **定義:** [AWS CDK](#aws-cdk-cloud-development-kit) における基本的な構成要素です。単一の AWS リソース (例: S3 バケット) から、複数のリソースを組み合わせた抽象的なコンポーネント (例: このプロジェクトの `BedrockChatbotStack`) まで、あらゆるものを表します。Construct は階層的に構成されます。
*   **解説:** `BedrockChatbotStack` クラス自身も Construct であり、その内部で `cognito.UserPool`, `s3.Bucket`, `lambda.Function` など、他の多くの Construct をインスタンス化しています。`Construct` クラスは `constructs` ライブラリからインポートされ、`simplechat/package.json` の `dependencies` に含まれています。
*   **関連:** AWS CDK, Abstraction, Composition

**Conversation History**
*   **定義:** チャットボットとの対話において、それまでのユーザーとアシスタントの発言の履歴です。文脈を維持し、より自然で関連性の高い応答を生成するために LLM に入力として渡されます。
*   **解説:** `simplechat/frontend/src/App.js` では `messages` という [State](#state-react) 変数で管理され、ユーザーの入力とアシスタントの応答が追加されていきます。この履歴はバックエンド API 呼び出し時にペイロード (`conversationHistory`) として送信されます。バックエンド (`simplechat/lambda/index.py`) はこれを受け取り、[Bedrock](#amazon-bedrock) API に渡し、応答を受け取った後に更新された履歴をフロントエンドに返します。
*   **関連:** LLM, Context Window, State Management, React State

**CORS (Cross-Origin Resource Sharing)**
*   **定義:** ウェブブラウザが、あるオリジン (ドメイン、プロトコル、ポートの組み合わせ) で動作しているウェブアプリケーションに、異なるオリジンにあるリソースへのアクセスを許可するための仕組みです。
*   **解説:** このプロジェクトでは、[API Gateway](#amazon-api-gateway) の設定 (`defaultCorsPreflightOptions`) と、[S3](#amazon-s3-simple-storage-service) バケットの設定 (`cors`)、さらに [AWS Lambda](#aws-lambda) (`ChatFunction`) のレスポンスヘッダー (`Access-Control-Allow-*`) で CORS が考慮されています。これにより、[CloudFront](#amazon-cloudfront) で配信されるフロントエンド (あるオリジン) から、API Gateway (別のオリジン) への API リクエストがブラウザによってブロックされるのを防ぎます。
*   **関連:** HTTP Headers, Preflight Request (OPTIONS)

**Create React App (CRA)**
*   **定義:** [React](#react) アプリケーションをセットアップするための公式にサポートされている方法の一つです。複雑なビルド設定 (Webpack, Babel など) を抽象化し、すぐに開発を開始できる環境を提供します。
*   **解説:** `simplechat/frontend/` ディレクトリは Create React App を使用して作成された可能性が高いです。その証拠として、`dependencies` に [`react-scripts`](#react-scripts) が含まれており、`scripts` に `start`, `build`, `test`, `eject` が定義されています。`eslintConfig` や `browserslist` の設定も CRA の標準的な構成です。
*   **関連:** React, Frontend Development, Build Tools, react-scripts, package.json

**Custom Resource (CDK)**
*   **定義:** [CloudFormation](#cloudformation) がネイティブでサポートしていないカスタムのプロビジョニングロジックを [AWS CDK](#aws-cdk-cloud-development-kit) スタックのデプロイメント中に実行するための仕組みです。通常、[AWS Lambda](#aws-lambda) 関数によって実装されます。
*   **解説:** このプロジェクトでは、`ConfigGeneratorFunction` という Lambda 関数をハンドラーとするカスタムリソース (`ConfigResource`) が定義されています。これは、CDK (CloudFormation) のデプロイプロセス中に、フロントエンド用の設定ファイル (`config.js`) を動的に生成して [S3](#amazon-s3-simple-storage-service) にアップロードし、[CloudFront](#amazon-cloudfront) キャッシュを無効化するために使用されます。`aws-cdk-lib/custom-resources` モジュールと `cr.Provider` を使用して実装されています。
*   **関連:** AWS Lambda, CloudFormation, cr.Provider

**dependencies (package.json)**
*   **定義:** [`package.json`](#packagejson) ファイル内で、アプリケーションが**実行時**に必要とする [npm](#npm-node-package-manager) パッケージとそのバージョンを指定するセクションです。`npm install` コマンドでインストールされます。
*   **解説:**
    *   ルート (`simplechat/package.json`): [AWS CDK](#aws-cdk-cloud-development-kit) アプリケーションの実行に必要な `aws-cdk-lib`, `constructs`, `source-map-support` がリストされています。
    *   フロントエンド (`simplechat/frontend/package.json`): [React](#react) アプリケーションの実行に必要な `@aws-amplify/ui-react`, `aws-amplify`, [`axios`](#axios), `react`, `react-dom`, [`react-scripts`](#react-scripts), `web-vitals` などがリストされています。
*   **関連:** package.json, npm, devDependencies, Dependency Management

**devDependencies (package.json)**
*   **定義:** [`package.json`](#packagejson) ファイル内で、アプリケーションの**開発やビルド**時にのみ必要となる [npm](#npm-node-package-manager) パッケージとそのバージョンを指定するセクションです。`npm install` コマンドでインストールされますが、本番環境へのデプロイ時には通常含まれません。
*   **解説:** `simplechat/package.json` の `devDependencies` には、TypeScript の型定義 (`@types/*`)、テストフレームワーク ([`jest`](#jest), `ts-jest`)、TypeScript コンパイラ ([`typescript`](#typescript), [`tsc`](#tsc)), CDK Toolkit (`aws-cdk`), TypeScript 実行エンジン ([`ts-node`](#ts-node)) などが含まれています。フロントエンドの `package.json` には `devDependencies` がありませんが、これは [Create React App](#create-react-app-cra) ([`react-scripts`](#react-scripts)) がテストやビルドに必要なツールを内部で管理しているためです。
*   **関連:** package.json, npm, dependencies, Development Environment, Build Process

**DOM (Document Object Model)**
*   **定義:** HTML や XML ドキュメントのためのプログラミングインターフェースです。ドキュメントの構造化された表現 (ツリー構造) を提供し、プログラム (例: JavaScript) がドキュメントの内容、構造、スタイルを変更できるようにします。
*   **解説:** [React](#react) は仮想 DOM を使用して効率的に UI を更新しますが、最終的にはブラウザの実際の DOM を操作します。`simplechat/frontend/src/index.js` の `document.getElementById('root')` は DOM API を使用して HTML 要素を取得しています。また、`useRef` フックも DOM 要素への直接参照を取得するために使用されることがあります。
*   **関連:** HTML, Web Browser, JavaScript, React, Virtual DOM, useRef

**Effect Hook (useEffect)**
*   **定義:** [React](#react) の[フック](#react-hooks)の一つで、関数[コンポーネント](#component-react)内で副作用 (データ取得、購読、DOM の手動変更など) を実行することを可能にします。コンポーネントのレンダリング後や、特定の [State](#state-react) や [Props](#props-react) が変更された後に実行されます。
*   **解説:** `simplechat/frontend/src/App.js` の `ChatInterface` コンポーネントで、`messages` ステートが更新されたときにチャットウィンドウを自動スクロールするために `useEffect` が使用されています (`useEffect(() => { scrollToBottom(); }, [messages]);`)。
*   **関連:** React, React Hooks, Side Effect, Component Lifecycle

**Environment Variables (環境変数)**
*   **定義:** オペレーティングシステムや実行環境からプログラムに渡される、名前付きの値です。
*   **解説:**
    *   **バックエンド (CDK/Lambda):** `simplechat/bin/bedrock-chatbot.ts` では `process.env.CDK_DEFAULT_ACCOUNT` 等で CDK のデプロイ設定を取得。`ChatFunction` Lambda (`simplechat/lambda/index.py`) は `MODEL_ID` を `os.environ.get()` で読み取り。`ConfigGeneratorFunction` Lambda には `NODE_OPTIONS` が渡されます。
    *   **フロントエンド (React):** ローカル開発時には `process.env.REACT_APP_*` という形式の環境変数が `simplechat/frontend/src/App.js` の `loadConfig` 関数で参照されます (例: `.env` ファイルで設定)。ただし、デプロイ環境では [config.js](#configjs-frontend) ファイルが優先されます。
*   **関連:** Configuration Management, AWS CDK, AWS Lambda, React

**ESLint**
*   **定義:** JavaScript および JSX コード内の問題を発見し、修正するための静的コード解析ツールです。コードの品質を向上させ、コーディングスタイルを統一するのに役立ちます。
*   **解説:** `simplechat/frontend/package.json` の `eslintConfig` セクションで設定が定義されており、[Create React App](#create-react-app-cra) の推奨ルールセット (`react-app`, `react-app/jest`) を使用しています。開発中にエディタやビルドプロセスで自動的に実行され、潜在的なエラーやスタイル違反を警告します。
*   **関連:** Static Code Analysis, Linting, JavaScript, React, package.json

**Event Handling (React)**
*   **定義:** [React](#react) において、ユーザーのアクション (クリック、入力、フォーム送信など) に応答して特定の処理を実行する仕組みです。JSX 要素に `onClick`, `onChange`, `onSubmit` などのイベントハンドラー属性を記述し、対応する関数を指定します。
*   **解説:** `simplechat/frontend/src/App.js` では、以下のイベントハンドリングが行われています。
    *   フォーム送信 (`<form onSubmit={handleSubmit}>`)
    *   テキストエリア入力変更 (`<textarea onChange={(e) => setInput(e.target.value)}>`)
    *   テキストエリアでのキー入力 (`<textarea onKeyDown={...}>` で Enter キー送信を処理)
    *   ボタンクリック (`<button onClick={clearConversation}>`, `<button onClick={signOut}>`)
*   **関連:** React, User Interface, DOM Events

**Feature Flag (CDK)**
*   **定義:** [AWS CDK](#aws-cdk-cloud-development-kit) の特定の機能や挙動を有効化/無効化するための設定です。CDK のバージョンアップに伴う破壊的変更への対応や、新しい機能のオプトイン/オプトアウトに使用されます。
*   **解説:** [`cdk.json`](#cdkjson) ファイルの `context` キー以下に `@aws-cdk/*` 形式で多数の Feature Flag が設定されています。これにより、CDK の推奨される挙動や将来のバージョンとの互換性が確保されます。
*   **関連:** AWS CDK, cdk.json, Configuration Management, Compatibility

**IAM (Identity and Access Management)**
*   **定義:** AWS リソースへのアクセスを安全に管理するためのウェブサービスです。ユーザー、グループ、ロールを作成および管理し、アクセス許可を使用して AWS リソースへのアクセスを許可および拒否します。
*   **解説:** このプロジェクトでは、[AWS Lambda](#aws-lambda) 関数 (`ChatLambdaRole`, `ConfigGeneratorRole`) が他の AWS サービス ([Bedrock](#amazon-bedrock), [S3](#amazon-s3-simple-storage-service), [CloudFront](#amazon-cloudfront)) にアクセスするために必要な権限を定義する [IAM Role](#iam-role) と [IAM Policy Statement](#iam-policy-statement) を作成するために使用されます。
*   **関連:** IAM Role, IAM Policy Statement, IAM Managed Policy, IAM Service Principal

**IAM Managed Policy**
*   **定義:** AWS によって作成および管理されるスタンドアロンの [IAM](#iam-identity-and-access-management) ポリシーです。一般的なユースケースに対応する権限を提供します。
*   **解説:** `simplechat/lib/bedrock-chatbot-stack.ts` では、Lambda 関数の基本的な実行権限 (CloudWatch Logs への書き込みなど) を提供する `service-role/AWSLambdaBasicExecutionRole` という AWS 管理ポリシーが [IAM Role](#iam-role) にアタッチされています。

**IAM Policy Statement**
*   **定義:** [IAM](#iam-identity-and-access-management) ポリシー内の個々の権限定義です。Effect (Allow/Deny)、Action (許可/拒否する操作)、Resource (対象リソース) などを指定します。
*   **解説:** Lambda 実行ロールに Bedrock、S3、CloudFront へのアクセス権限を追加するために、`new iam.PolicyStatement({...})` を使用して具体的な権限が定義されています。

**IAM Role**
*   **定義:** 特定のアクセス許可を持つ [IAM](#iam-identity-and-access-management) アイデンティティです。ユーザーやグループとは異なり、特定の AWS サービスやアプリケーションが一時的に引き受けて (assume) その権限を使用することを目的としています。
*   **解説:** このプロジェクトでは、`ChatLambdaRole` と `ConfigGeneratorRole` という2つの IAM ロールが作成され、それぞれ [AWS Lambda](#aws-lambda) 関数に割り当てられています。これにより、Lambda 関数は必要な AWS サービスに安全にアクセスできます。

**IAM Service Principal**
*   **定義:** AWS サービスを表す [IAM](#iam-identity-and-access-management) プリンシパルです。[IAM Role](#iam-role) の信頼ポリシーで使用され、どのサービスがそのロールを引き受けることができるかを指定します。
*   **解説:** `new iam.ServicePrincipal('lambda.amazonaws.com')` は、AWS Lambda サービスがロールを引き受けることを許可するために使用されます。

**IaC (Infrastructure as Code)**
*   **定義:** インフラストラクチャ (サーバー、ネットワーク、データベースなど) の構成や管理を、コードを用いて自動化する手法です。
*   **解説:** [AWS CDK](#aws-cdk-cloud-development-kit) は IaC を実現するためのツールの一つです。コードでインフラを定義することで、バージョン管理、再現性の確保、変更の追跡などが容易になります。

**ID Token (Cognito)**
*   **定義:** [OpenID Connect (OIDC)](#openid-connect-oidc) フローの一部として [Amazon Cognito](#amazon-cognito) によって発行される [JSON Web Token (JWT)](#jwt-json-web-token) です。認証されたユーザーに関する情報 (ユーザー名、Eメールなど) のクレームを含みます。
*   **解説:** `simplechat/frontend/src/App.js` では、`Auth.currentSession().getIdToken().getJwtToken()` を使用して ID トークンを取得し、バックエンド API ([API Gateway](#amazon-api-gateway)) へのリクエストの [`Authorization` ヘッダー](#authorization-header)に `Bearer` スキームで含めて送信します。API Gateway の Cognito オーソライザーはこのトークンを検証してリクエストを認証します。
*   **関連:** Amazon Cognito, JWT, OIDC, Authentication, Authorization Header

**Inference Parameters (Bedrock)**
*   **定義:** [Amazon Bedrock](#amazon-bedrock) のモデル呼び出し時に指定できる、応答生成の挙動を制御するためのパラメータです。
*   **解説:** `simplechat/lambda/index.py` では、`invoke_model` API のペイロード内で `inferenceConfig` として以下のパラメータが設定されています。
    *   `maxTokens`: 生成する最大トークン数。応答の長さを制限します。
    *   `temperature`: 応答のランダム性を制御します (値が高いほど多様で創造的、低いほど決定的)。
    *   `topP`: Top-P (Nucleus) サンプリング。確率の高いトークンから累積確率が P に達するまでの候補を選択します。`temperature` と組み合わせて使用されます。
    *   `stopSequences`: 生成を停止する特定の文字列シーケンス (今回は空)。
*   **関連:** Amazon Bedrock, LLM, Token

**invoke_model (Bedrock API)**
*   **定義:** [Amazon Bedrock](#amazon-bedrock) サービスにおいて、指定した基盤モデル (FM) を呼び出して推論 (テキスト生成など) を実行するための主要な API アクションです。
*   **解説:** `simplechat/lambda/index.py` の `ChatFunction` Lambda が、[Bedrock Runtime Client](#bedrock-runtime-client-boto3) を介してこの API を呼び出しています。`modelId`, `body` (入力メッセージ、推論パラメータを含むペイロード), `contentType` などを引数に取ります。
*   **関連:** Amazon Bedrock, Bedrock Runtime Client, Boto3, API

**Jest**
*   **定義:** Facebook (現 Meta) によって開発された、シンプルさを重視した JavaScript テストフレームワークです。ユニットテスト、統合テスト、スナップショットテストなどに使用されます。
*   **解説:** `simplechat/package.json` の `devDependencies` に `jest` と `ts-jest` (TypeScript 用 Jest プリプロセッサ) が含まれており、`scripts` に `"test": "jest"` が定義されています。これにより、`npm run test` コマンドでプロジェクトのテストを実行できます (ただし、具体的なテストコードは現時点では確認されていません)。フロントエンド (`simplechat/frontend/package.json`) では [`react-scripts test`](#react-scripts) コマンドが Jest を内部的に使用します。
*   **関連:** Testing Framework, JavaScript, TypeScript, Unit Testing, Integration Testing, package.json, react-scripts

**JSON (JavaScript Object Notation)**
*   **定義:** 軽量なデータ交換フォーマットです。人間にとって読み書きが容易で、機械にとっても簡単に解析や生成ができます。キーと値のペアに基づいています。
*   **解説:** このプロジェクトでは広く使用されています。
    *   [API Gateway](#amazon-api-gateway) と [Lambda](#aws-lambda) 間のリクエスト/レスポンスボディ。
    *   [Bedrock](#amazon-bedrock) API のリクエスト/レスポンスボディ。
    *   `simplechat/lambda/index.py` で `json.loads()` (デコード) と `json.dumps()` (エンコード) が使用されています。
    *   [`cdk.json`](#cdkjson) や [`package.json`](#packagejson) などの設定ファイル。
*   **関連:** Data Format, Serialization, Deserialization

**JSX (JavaScript XML)**
*   **定義:** JavaScript の構文拡張で、[React](#react) で UI を記述するためによく使用されます。HTML に似た構文で [React 要素](#component-react) を表現できますが、最終的には通常の JavaScript 関数呼び出しに変換されます。
*   **解説:** `simplechat/frontend/src/App.js` の `ChatInterface` および `App` コンポーネントの `return` 文の中で使用されており、`<div>`, `<h1>`, `<button>`, `<form>`, `<textarea>` などの要素を記述しています。JavaScript の式を `{}` で埋め込むことができます (例: `{user.username}`, `{messages.map(...) }`)。
*   **関連:** React, Component, UI Development

**JWT (JSON Web Token)**
*   **定義:** クレーム (情報) を当事者間で安全に表現するためのコンパクトで自己完結した方法を定義するオープン標準 (RFC 7519) です。通常、認証や情報交換に使用されます。デジタル署名されているため、検証可能で信頼できます。
*   **解説:** [Amazon Cognito](#amazon-cognito) が発行する [ID Token](#id-token-cognito) は JWT 形式です。フロントエンドはこれを取得し、バックエンド API へのリクエストに含めることで、ユーザーが認証済みであることを証明します。
*   **関連:** Authentication, Authorization, ID Token, OIDC, Security

**Lambda Context**
*   **定義:** [AWS Lambda](#aws-lambda) 関数のハンドラーに渡される2番目の引数 (`context`) で、実行中の関数に関する情報 (関数名、バージョン、ARN、リクエスト ID、ログストリーム名、残り実行時間など) を提供するオブジェクトです。
*   **解説:** `simplechat/lambda/index.py` の `lambda_handler` 関数では、`context.invoked_function_arn` を使用して関数の ARN を取得し、そこからリージョンを抽出しています。また、カスタムリソース応答で `context.logStreamName` が PhysicalResourceId として使用されています。
*   **関連:** AWS Lambda, Lambda Handler

**Lambda Function (CDK)**
*   **定義:** [AWS CDK](#aws-cdk-cloud-development-kit) で [AWS Lambda](#aws-lambda) 関数を定義するための[コンストラクト](#construct-cdk)です (`aws-cdk-lib/aws-lambda.Function`)。
*   **解説:** `ChatFunction` と `ConfigGeneratorFunction` は、このコンストラクトを使用して作成されています。ランタイム、ハンドラー、コードの場所、IAM ロール、環境変数などを指定します。

**Lambda Integration (API Gateway)**
*   **定義:** [Amazon API Gateway](#amazon-api-gateway) のメソッドへのリクエストを、バックエンドの [AWS Lambda](#aws-lambda) 関数に転送するための統合タイプです。Proxy Integration と Non-Proxy (Custom) Integration があります。このプロジェクトでは Proxy Integration が使用されていると推測されます。
*   **解説:** `new apigateway.LambdaIntegration(chatFunction)` は、`/chat` エンドポイントへの POST リクエストを `ChatFunction` Lambda にルーティングするために使用されます。Proxy Integration の場合、API Gateway はリクエスト全体を Lambda の `event` オブジェクトにマッピングし、Lambda の戻り値を HTTP レスポンスに変換します。

**LLM (Large Language Model)**
*   **定義:** 大規模なテキストデータセットでトレーニングされた、人間のようなテキストを理解し生成する能力を持つ深層学習モデルの一種です。
*   **解説:** [Amazon Bedrock](#amazon-bedrock) は様々な LLM (例: Amazon Titan, Anthropic Claude, AI21 Labs Jurassic, Meta Llama など) へのアクセスを提供します。このプロジェクトは Bedrock を介してこれらの LLM を利用し、チャット機能を実現しています。
*   **関連:** Amazon Bedrock, AI (Artificial Intelligence), NLP (Natural Language Processing)

**Node.js**
*   **定義:** Chrome の V8 JavaScript エンジン上に構築された、サーバーサイドで JavaScript を実行するためのプラットフォームです。
*   **解説:** [AWS CDK](#aws-cdk-cloud-development-kit) は Node.js 上で動作します。このプロジェクトでは CDK の実行、フロントエンド ([React](#react)) のビルド、および `ConfigGeneratorFunction` Lambda の実行に Node.js が必要です。[npm](#npm-node-package-manager) は Node.js のデフォルトのパッケージマネージャーであり、プロジェクトの依存関係管理やスクリプト実行に使用されます ([package.json](#packagejson) を参照)。
*   **関連:** JavaScript Runtime, npm, package.json, AWS CDK, AWS Lambda

**npm (Node Package Manager)**
*   **定義:** [Node.js](#nodejs) のデフォルトのパッケージマネージャーであり、世界最大のソフトウェアレジストリでもあります。JavaScript のライブラリやツールをインストール、共有、管理するために使用されます。
*   **解説:** このプロジェクトでは、[`package.json`](#packagejson) ファイルで依存関係 ([dependencies](#dependencies-packagejson), [devDependencies](#devdependencies-packagejson)) を定義し、`npm install` コマンドでこれらのパッケージをインストールします。また、`package.json` の [`scripts`](#scripts-npm) セクションで定義されたコマンド (例: `build`, `test`, `deploy`) を `npm run <script_name>` で実行します。`postinstall` スクリプトも利用されています。
*   **関連:** Node.js, Package Manager, package.json, dependencies, devDependencies, scripts (npm), JavaScript

**OAuth 2.0**
*   **定義:** サードパーティアプリケーションによる HTTP サービスへの限定的なアクセスを可能にするための認可フレームワークです。
*   **解説:** [Amazon Cognito](#amazon-cognito) は OAuth 2.0 をサポートしており、このプロジェクトではフロントエンドアプリケーションがユーザーの代わりにリソース (例: ユーザープロファイル情報) にアクセスするためのフロー (Implicit Grant, Authorization Code Grant) を有効にしています。
*   **関連:** Amazon Cognito, OpenID Connect, Scope

**OpenID Connect (OIDC)**
*   **定義:** [OAuth 2.0](#oauth-20) プロトコルに基づいたシンプルなアイデンティティレイヤーです。クライアントが認証サーバーによるエンドユーザーの認証に基づいてアイデンティティを確認し、基本的なプロファイル情報を取得できるようにします。
*   **解説:** [Amazon Cognito](#amazon-cognito) は OIDC プロバイダーとしても機能します。`openid`, `profile`, `email` といった [OAuth Scope](#oauth-scope-cognito) を要求することで、認証されたユーザーの情報を取得できます。
*   **関連:** Amazon Cognito, OAuth 2.0

**package.json**
*   **定義:** [Node.js](#nodejs) プロジェクトに関するメタデータ (プロジェクト名、バージョン、ライセンスなど) や、プロジェクトの依存関係 ([npm](#npm-node-package-manager) で管理されるパッケージ: [dependencies](#dependencies-packagejson), [devDependencies](#devdependencies-packagejson))、および実行可能なスクリプト ([scripts](#scripts-npm) フィールド) などを定義する [JSON](#json-javascript-object-notation) ファイルです。
*   **解説:** このリポジトリのルート (`simplechat/package.json`) とフロントエンドディレクトリ (`simplechat/frontend/package.json`) に存在します。ルートの `package.json` は主に [AWS CDK](#aws-cdk-cloud-development-kit) 関連の依存関係と、フロントエンドを含む全体のビルドスクリプト (`postinstall` など) を管理しています。フロントエンドの `package.json` は [React](#react), [axios](#axios), [Amplify](#aws-amplify) などのフロントエンド固有の依存関係と、[`react-scripts`](#react-scripts) を使ったビルド/開発スクリプトを管理します。`npm install` はこのファイルを読み込んでパッケージをインストールします。
*   **関連:** Node.js, npm, Dependency Management, JSON, dependencies, devDependencies, scripts (npm)

**postinstall (npm script)**
*   **定義:** [`package.json`](#packagejson) の [`scripts`](#scripts-npm) セクションで定義できる特殊なスクリプト名の一つです。`npm install` コマンドが完了した**後**に自動的に実行されます。
*   **解説:** `simplechat/package.json` の `scripts` 内で `"postinstall": "cd frontend && npm install && npm run build"` と定義されています。これにより、ルートディレクトリで `npm install` を実行するだけで、自動的に `frontend` ディレクトリに移動し、フロントエンドの依存関係インストール (`npm install`) とビルド (`npm run build`) が行われます。プロジェクトのセットアップを簡略化します。
*   **関連:** npm, package.json, scripts (npm), Automation, Build Process

**Props (React)**
*   **定義:** [React](#react) [コンポーネント](#component-react)間でデータを渡すための仕組みです。親コンポーネントから子コンポーネントへ、読み取り専用のプロパティとして渡されます。
*   **解説:** `simplechat/frontend/src/App.js` では、`App` コンポーネントが [Authenticator](#authenticator-component-amplify-ui) から受け取った `signOut` 関数と `user` オブジェクトを、子コンポーネントである `ChatInterface` に props として渡しています (`<ChatInterface signOut={signOut} user={user} />`)。`ChatInterface` はこれらを引数で受け取ります (`function ChatInterface({ signOut, user })`)。
*   **関連:** React, Component, Data Flow

**Python**
*   **定義:** 広く使われている高水準の汎用プログラミング言語です。読みやすく、簡潔な構文が特徴です。
*   **解説:** このプロジェクトのバックエンドロジックである `ChatFunction` Lambda (`simplechat/lambda/index.py`) は Python で記述されています。[Boto3](#boto3) ライブラリを使用して AWS サービスと連携します。依存ライブラリは `simplechat/lambda/requirements.txt` で管理されます。
*   **関連:** AWS Lambda, Boto3, requirements.txt

**React**
*   **定義:** Facebook (現 Meta) によって開発された、ユーザーインターフェース (UI) を構築するための JavaScript ライブラリです。[コンポーネント](#component-react)ベースのアーキテクチャを採用しており、宣言的な UI 記述と効率的な DOM 更新が特徴です。
*   **解説:** このプロジェクトのフロントエンド (`simplechat/frontend/`) は React を使用して構築されています。`App.js` はメインの React コンポーネントを含み、[JSX](#jsx-javascript-xml) を使用して UI を記述し、[React Hooks](#react-hooks) (`useState`, `useEffect`, `useRef`) を使用して状態管理や副作用処理を行っています。依存関係は `simplechat/frontend/package.json` で管理されています。
*   **関連:** JavaScript Library, Frontend Development, UI, Component, JSX, React Hooks, package.json

**ReactDOM**
*   **定義:** [React](#react) をブラウザの [DOM](#dom-document-object-model) にレンダリングするためのパッケージです。`react-dom/client` (React 18+) または `react-dom` (React 17 以前) からインポートされます。
*   **解説:** `simplechat/frontend/src/index.js` で `import ReactDOM from 'react-dom/client'` され、`ReactDOM.createRoot()` でレンダリングルートを作成し、`root.render()` で `<App />` コンポーネントを DOM に描画するために使用されています。
*   **関連:** React, DOM, Rendering, Frontend Development

**React Hooks**
*   **定義:** [React](#react) 16.8 で導入された機能で、関数[コンポーネント](#component-react)内で [State](#state-react) やライフサイクル機能 (副作用処理など) を利用できるようにする関数群です。`useState`, `useEffect`, `useContext`, `useRef` などがあります。
*   **解説:** `simplechat/frontend/src/App.js` の `ChatInterface` コンポーネントでは以下のフックが使用されています。
    *   `useState`: `messages`, `input`, `loading`, `error` といったコンポーネントの状態を管理します。
    *   `useEffect`: `messages` が変更されたときに自動スクロールを実行します。
    *   `useRef`: メッセージリストの末尾要素への参照 (`messagesEndRef`) を保持し、スクロールに使用します。
*   **関連:** React, Functional Component, State, Side Effect, Component Lifecycle

**React Scripts (react-scripts)**
*   **定義:** [Create React App (CRA)](#create-react-app-cra) によって提供されるスクリプトと設定のセットです。React アプリケーションの開発サーバー起動 (`start`)、本番ビルド (`build`)、テスト実行 (`test`)、設定の展開 (`eject`) といったタスクを内部的に処理します。Webpack, Babel, Jest などの設定を隠蔽し、開発者が設定を意識せずに開発に集中できるようにします。
*   **解説:** `simplechat/frontend/package.json` の `dependencies` に含まれており、`scripts` セクションで `start`, `build`, `test`, `eject` コマンドとして使用されています。
*   **関連:** Create React App, React, Build Tools, Development Server, Testing, package.json

**React StrictMode**
*   **定義:** [React](#react) アプリケーション内の潜在的な問題を強調するためのツールです。`<React.StrictMode>` でラップされたコンポーネントとその子孫に対して、追加のチェックや警告を開発モードでのみ実行します。例えば、安全でないライフサイクルメソッドの使用、古い API の使用、意図しない副作用などを検出するのに役立ちます。本番ビルドには影響しません。
*   **解説:** `simplechat/frontend/src/index.js` で、`<App />` コンポーネント全体が `<React.StrictMode>` でラップされています。これにより、開発中に潜在的な問題に関する警告がコンソールに表示される可能性があります。
*   **関連:** React, Debugging, Development Environment

**React Testing Library (@testing-library/react)**
*   **定義:** ユーザーがソフトウェアをどのように使用するかに焦点を当てた、[React](#react) コンポーネントのテストを支援するライブラリです。コンポーネントの実装詳細ではなく、実際のユーザーインタラクションに近い形でテストを記述することを推奨します。
*   **解説:** `simplechat/frontend/package.json` の `dependencies` に `@testing-library/react`, `@testing-library/jest-dom`, `@testing-library/user-event` が含まれています。これらは、フロントエンドコンポーネントのテストを作成するために使用される可能性があります (ただし、具体的なテストコードは現時点では確認されていません)。[`react-scripts test`](#react-scripts) コマンドによって実行されます。
*   **関連:** React, Testing Framework, Unit Testing, Integration Testing, Jest, package.json

**Ref Hook (useRef)**
*   **定義:** [React Hooks](#react-hooks) の一つで、レンダリング間で永続的なミュータブルな値を保持するため、または DOM 要素への直接的な参照を保持するために使用されます。`.current` プロパティを通じて値にアクセスします。`useRef` の値を変更しても再レンダリングはトリガーされません。
*   **解説:** `simplechat/frontend/src/App.js` の `ChatInterface` コンポーネントで `const messagesEndRef = useRef(null);` として定義され、メッセージリスト末尾の `<div>` 要素に `ref={messagesEndRef}` としてアタッチされています。`scrollToBottom` 関数内で `messagesEndRef.current.scrollIntoView()` を呼び出して DOM 要素を直接操作し、スクロールを実現しています。
*   **関連:** React, React Hooks, DOM Manipulation

**requirements.txt**
*   **定義:** [Python](#python) プロジェクトで使用される、依存する外部パッケージとそのバージョンをリストアップしたファイルです。`pip install -r requirements.txt` コマンドで、リストされたパッケージを一括インストールできます。
*   **解説:** `simplechat/lambda/requirements.txt` には、`ChatFunction` Lambda が必要とする [`boto3`](#boto3) と `botocore` のバージョンが記載されています。Lambda のデプロイパッケージを作成する際に、このファイルに基づいて依存関係がインストールされます。
*   **関連:** Python, pip, Dependency Management, AWS Lambda

**S3 Bucket Deployment (CDK)**
*   **定義:** ローカルのファイルやディレクトリ、または他の S3 バケットから、指定した S3 バケットにファイルをデプロイするための [AWS CDK](#aws-cdk-cloud-development-kit) [コンストラクト](#construct-cdk)です (`aws-cdk-lib/aws-s3-deployment.BucketDeployment`)。オプションで [CloudFront](#amazon-cloudfront) のキャッシュ無効化も実行できます。
*   **解説:** `DeployWebsite` という名前でインスタンス化され、`../frontend/build` ディレクトリの内容を `WebsiteBucket` にアップロードし、関連付けられた CloudFront ディストリビューションのキャッシュを無効化しています。

**scripts (npm)**
*   **定義:** [`package.json`](#packagejson) ファイルの `scripts` セクションで定義される、プロジェクト固有のコマンドエイリアスです。`npm run <script_name>` (または `build`, `start`, `test`, `stop` などの一部の標準スクリプト名は `npm <script_name>`) で実行できます。ビルド、テスト、デプロイなどの一般的なタスクを自動化するためによく使用されます。
*   **解説:**
    *   ルート (`simplechat/package.json`): `build` ([tsc](#tsc)), `watch`, `test` ([jest](#jest)), CDK 関連 (`deploy`, `destroy` など), [`postinstall`](#postinstall-npm-script) が定義されています。
    *   フロントエンド (`simplechat/frontend/package.json`): [`react-scripts`](#react-scripts) を使用した `start`, `build`, `test`, `eject` が定義されています。
*   **関連:** npm, package.json, Automation, Build Process, Testing

**Shebang (シバン)**
*   **定義:** スクリプトファイルの先頭に書かれる `#!` から始まる行で、そのスクリプトを実行するインタプリタを指定します。
*   **解説:** `simplechat/bin/bedrock-chatbot.ts` の `#!/usr/bin/env node` は、このファイルを [Node.js](#nodejs) で実行することを示します。

**source-map-support**
*   **定義:** Node.js アプリケーションでソースマップを有効にするためのライブラリです。
*   **解説:** [TypeScript](#typescript) などから JavaScript にトランスパイルされたコードでエラーが発生した場合でも、元のソースコード (TypeScript) の行番号をスタックトレースに表示できるようにします。デバッグ作業を助けます。`simplechat/bin/bedrock-chatbot.ts` でインポートされ、`ConfigGeneratorFunction` Lambda の環境変数 `NODE_OPTIONS` でも有効化されています。`simplechat/package.json` の `dependencies` に含まれています。
*   **関連:** Debugging, TypeScript, Node.js, package.json

**SRP (Secure Remote Password)**
*   **定義:** パスワード自体をネットワーク上で送信することなく、クライアントとサーバー間でパスワードベースの認証を行うための安全なプロトコルです。盗聴やリプレイ攻撃に対して耐性があります。
*   **解説:** [Amazon Cognito](#amazon-cognito) は SRP 認証フローをサポートしており、`simplechat/lib/bedrock-chatbot-stack.ts` の [UserPool Client](#userpool-client-cognito) 設定で `userSrp: true` として有効化されています。フロントエンドの [Amplify Auth](#amplify-auth) ライブラリなどがこのフローを内部的に利用して安全な認証を実現します。

**State (React)**
*   **定義:** [React](#react) [コンポーネント](#component-react)が内部で保持し、時間とともに変化する可能性のあるデータです。State が更新されると、React はコンポーネントを再レンダリングして UI を更新します。関数コンポーネントでは `useState` [フック](#react-hooks)を使用して管理されます。
*   **解説:** `simplechat/frontend/src/App.js` の `ChatInterface` コンポーネントでは、`useState` を使用して `messages` (会話履歴), `input` (入力中のテキスト), `loading` (API 通信中フラグ), `error` (エラーメッセージ) という4つの状態変数が管理されています。これらの値が `setMessages`, `setInput` などで更新されると、UI が自動的に反映されます。
*   **関連:** React, Component, React Hooks (useState), UI Update

**Tags (タグ)**
*   **定義:** AWS リソースに付与できるキーと値のペアのラベルです。
*   **解説:** リソースの分類、コスト管理、アクセス制御などに利用されます。`simplechat/bin/bedrock-chatbot.ts` では `cdk.Tags.of(app).add(...)` を使って、アプリケーション全体のリソースに 'Project' と 'Environment' というタグを付与しています。

**Token (LLM)**
*   **定義:** 大規模言語モデル (LLM) がテキストを処理する際の基本的な単位です。単語の一部、単語全体、句読点などがトークンになり得ます。モデルの入力長や出力長、コスト計算はトークン単位で行われることが多いです。
*   **解説:** [Bedrock](#amazon-bedrock) の[推論パラメータ](#inference-parameters-bedrock) `maxTokens` は、モデルが生成する応答の最大トークン数を指定します。
*   **関連:** LLM, Inference Parameters

**tsc**
*   **定義:** [TypeScript](#typescript) コンパイラのコマンドラインインターフェース (CLI) です。TypeScript コード (`.ts`, `.tsx`) を JavaScript コード (`.js`) に変換 (トランスパイル) します。
*   **解説:** `simplechat/package.json` の `devDependencies` に `typescript` パッケージが含まれており、`scripts` セクションの `build` (`"build": "tsc"`) および `watch` (`"watch": "tsc -w"`) コマンドで使用されています。`tsconfig.json` ファイルでコンパイルオプションが設定されます。
*   **関連:** TypeScript, Compilation, Build Process, package.json, tsconfig.json

**ts-node**
*   **定義:** [TypeScript](#typescript) を事前に JavaScript にコンパイルすることなく、[Node.js](#nodejs) 上で直接実行できるようにする TypeScript 実行エンジンおよび REPL です。
*   **解説:** [`cdk.json`](#cdkjson) の `app` キーで `npx ts-node --prefer-ts-exts bin/bedrock-chatbot.ts` と指定されており、CDK Toolkit が TypeScript で書かれた CDK アプリケーションのエントリーポイントを直接実行するために使用されます。`simplechat/package.json` の `devDependencies` に含まれています。
*   **関連:** TypeScript, Node.js, AWS CDK, cdk.json, package.json

**TypeScript**
*   **定義:** Microsoft によって開発された、JavaScript に静的型付けやクラスベースオブジェクト指向などの機能を追加したプログラミング言語です。JavaScript のスーパーセットであり、最終的には JavaScript にトランスパイルされます。
*   **解説:** このプロジェクトでは、[AWS CDK](#aws-cdk-cloud-development-kit) のコード (`simplechat/bin/` と `simplechat/lib/` ディレクトリ) が TypeScript で記述されています。静的型付けにより、開発時のエラー検出やコード補完が強化されます。コンパイラ ([tsc](#tsc)) は `simplechat/package.json` の `devDependencies` で管理され、`scripts` で使用されます。
*   **関連:** JavaScript, Programming Language, Static Typing, AWS CDK, tsc, package.json

**UserPool (Cognito)**
*   **定義:** [Amazon Cognito](#amazon-cognito) におけるユーザーディレクトリです。ユーザーアカウント、属性、認証設定、パスワードポリシーなどを管理します。
*   **解説:** `ChatbotUserPool` という名前で作成され、サインアップ許可、Eメールでのサインイン、パスワードポリシーなどが設定されています。

**UserPool Client (Cognito)**
*   **定義:** アプリケーションが [Cognito UserPool](#userpool-cognito) と対話するためのインターフェースです。アプリケーションごとに作成され、認証フロー、許可される OAuth スコープ、コールバック URL などを設定します。
*   **解説:** `ChatbotUserPoolClient` という名前で作成され、フロントエンドアプリケーション ([React](#react) + [Amplify](#aws-amplify)) がユーザー認証を行うために必要な設定 (SRP フロー、OAuth 設定など) が定義されています。

**web-vitals**
*   **定義:** ウェブページのユーザーエクスペリエンス品質に関する重要な指標 (Core Web Vitals など) を測定するための JavaScript ライブラリです。読み込みパフォーマンス (LCP)、インタラクティブ性 (FID/INP)、視覚的安定性 (CLS) などを計測できます。
*   **解説:** `simplechat/frontend/package.json` の `dependencies` に含まれており、[Create React App](#create-react-app-cra) のデフォルト設定の一部として組み込まれています。通常 `src/reportWebVitals.js` (このリポジトリには存在しないようです) で使用され、パフォーマンスデータを分析ツールに送信するのに役立ちます。
*   **関連:** Frontend Development, Performance Monitoring, Core Web Vitals, Create React App